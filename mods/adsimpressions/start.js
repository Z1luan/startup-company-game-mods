let _modPath;function updateImpressions(t){if(Array.isArray(t.timeSlots)){const e=t.timeSlots.map((e=>{if(e.contract&&"number"==typeof e.contract.cpm){const r=Number(Helpers.GetCurrentTimestamp().split("-")[0])-1,n=t.productId,a=Helpers.CalculateImpressionsByOnlineUsers(n,r,e.start,e.end);return{...e,contract:{...e.contract,dailyPayment:Math.round(e.contract.cpm*a/1e3),totalPayout:Math.round(e.contract.cpm*a/1e3)*e.contract.length}}}return e}));return{...t,timeSlots:e}}return t}exports.initialize=t=>{_modPath=t},exports.onNewDay=t=>{t.featureInstances=t.featureInstances.map((t=>updateImpressions(t)))};